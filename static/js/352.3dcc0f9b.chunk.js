"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[352],{352:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(87),c=a(689),r=a(791),o=a(184);const i=e=>{let{onSubmit:t,onChange:a,value:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Find your movie:"}),(0,o.jsxs)("form",{onSubmit:t,children:[(0,o.jsx)("input",{type:"text",placeholder:"Type here...",value:n,onChange:a}),(0,o.jsx)("button",{type:"submit",children:"Search"})]})]})};var s=a(390);const l=()=>{var e,t;const[a,l]=(0,r.useState)([]),[u,h]=(0,n.lr)(),[d,y]=(0,r.useState)(null!==(e=u.get("query"))&&void 0!==e?e:""),m=(0,c.TH)(),v=null!==(t=u.get("query"))&&void 0!==t?t:"";(0,r.useEffect)((()=>{if(!v)return;(async()=>{try{const{results:e}=await s.Pt(v);0===e.length&&alert("There is no movie, try another search!"),l(e)}catch(e){console.log(e)}})()}),[v]);return(0,o.jsxs)("main",{children:[(0,o.jsx)(i,{onSubmit:e=>{if(e.preventDefault(),""===d)return alert("What do you want to find? :)");h({query:e.target[0].value})},onChange:e=>{y(e.target.value)},value:d}),a.length>0||v?(0,o.jsx)("ul",{children:a.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)(n.rU,{to:"/movies/".concat(e.id),state:{from:m},children:e.title})},e.id)))}):null]})}},390:(e,t,a)=>{a.d(t,{Df:()=>r,M1:()=>i,Pg:()=>o,Pt:()=>l,tx:()=>s});var n=a(294);const c="0b79c5bca8197408ee9617cf88710b12";n.Z.defaults.baseURL="https://api.themoviedb.org/3";const r=async()=>(await n.Z.get("/trending/movie/day?api_key=".concat(c))).data,o=async e=>(await n.Z.get("/movie/".concat(e,"?api_key=").concat(c))).data,i=async e=>(await n.Z.get("/movie/".concat(e,"/credits?api_key=").concat(c))).data,s=async e=>(await n.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(c))).data,l=async e=>(await n.Z.get("/search/movie?api_key=".concat(c,"&query=").concat(e))).data}}]);
//# sourceMappingURL=352.3dcc0f9b.chunk.js.map