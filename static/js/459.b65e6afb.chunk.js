"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[459],{459:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var a,r,i,o,s=t(185),c=t(689),l=t(87),d=t(791),m=t(390),h=t(168),v=t(867);const g=v.ZP.div(a||(a=(0,h.Z)(["\n  display: flex;\n  gap: 1rem;\n  margin: 0.5rem 0;\n\n  > img {\n    height: 300px;\n    width: 200px;\n  }\n"]))),p=v.ZP.h3(r||(r=(0,h.Z)(["\n  margin-top: 1rem;\n"]))),x=v.ZP.div(i||(i=(0,h.Z)(["\n  margin-bottom: 1rem;\n  > span {\n    display: block;\n    font-weight: 700;\n    margin-bottom: 1rem;\n  }\n"]))),j=v.ZP.div(o||(o=(0,h.Z)(["\n  padding: 1rem 0.2rem;\n  border-bottom: 0.2rem solid rgba(0, 0, 0, 0.3);\n  border-top: 0.2rem solid rgba(0, 0, 0, 0.3);\n  > ul > li {\n    margin: 0 0 0.5rem 1rem;\n  }\n"])));var u=t(184);const b=e=>{var n,t;let{movie:a}=e;const{title:r,release_date:i,poster_path:o,vote_average:s,overview:d,genres:m}=a,h=(0,c.TH)(),v=null!==(n=null===h||void 0===h||null===(t=h.state)||void 0===t?void 0:t.from)&&void 0!==n?n:"/",b=new Date(i),w=isNaN(b)?"Unknown":b.getFullYear(),y=o?"https://image.tmdb.org/t/p/w400/".concat(o):"https://via.placeholder.com/400x600.png?text=Poster+Not+Available",f=s?"".concat((10*s).toFixed(0),"%"):"Not rated";return r?(0,u.jsxs)("section",{children:[(0,u.jsxs)(g,{children:[(0,u.jsx)("img",{src:y,alt:"".concat(r," poster")}),(0,u.jsxs)("div",{children:[(0,u.jsxs)(p,{children:[null!==r&&void 0!==r?r:"Unknown"," (",w,")"]}),(0,u.jsxs)(x,{children:["User Score: ",f]}),(0,u.jsxs)(x,{children:[(0,u.jsx)("span",{children:"Overview:"})," ",d]}),m&&m.length>0&&(0,u.jsxs)(x,{children:[(0,u.jsx)("span",{children:"Genres: "}),m.map((e=>e.name)).join(", ")]})]})]}),(0,u.jsxs)(j,{children:[(0,u.jsx)(x,{children:"Additional information:"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"cast",state:{from:v},children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"reviews",state:{from:v},children:"Reviews"})})]})]})]}):"Unknown"},w=()=>{var e,n;const{movieId:t}=(0,c.UO)(),[a,r]=(0,d.useState)({}),[i,o]=(0,d.useState)(!1),h=(0,c.TH)();return(0,d.useEffect)((()=>{(async()=>{try{o(!0);const e=await m.Pg(t);r(e)}catch(e){console.log(e)}finally{o(!1)}})()}),[t]),(0,u.jsxs)("main",{children:[(0,u.jsx)(l.rU,{to:null!==(e=null===h||void 0===h||null===(n=h.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/",children:(0,u.jsxs)("button",{type:"button",style:{marginTop:"0.5rem",backgroundColor:"transparent",border:"0.02rem solid rgba(0, 0, 0, 0.3)",borderRadius:"0.2rem",fontSize:"0.7rem"},children:[(0,u.jsx)(s.i1r,{style:{verticalAlign:"middle",marginRight:"0.2rem"}}),"Go back"]})}),i?(0,u.jsx)("p",{children:"Loading..."}):(0,u.jsx)(b,{movie:a,state:{from:h}}),(0,u.jsx)(d.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(c.j3,{})})]})}},390:(e,n,t)=>{t.d(n,{Df:()=>i,M1:()=>s,Pg:()=>o,Pt:()=>l,tx:()=>c});var a=t(294);const r="0b79c5bca8197408ee9617cf88710b12";a.Z.defaults.baseURL="https://api.themoviedb.org/3";const i=async()=>(await a.Z.get("/trending/movie/day?api_key=".concat(r))).data,o=async e=>(await a.Z.get("/movie/".concat(e,"?api_key=").concat(r))).data,s=async e=>(await a.Z.get("/movie/".concat(e,"/credits?api_key=").concat(r))).data,c=async e=>(await a.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(r))).data,l=async e=>(await a.Z.get("/search/movie?api_key=".concat(r,"&query=").concat(e))).data}}]);
//# sourceMappingURL=459.b65e6afb.chunk.js.map